---
aliases: []
---
IS-IS (Intermediate System to Intermediate System) uses several types of packets (called **Protocol Data Units ‚Äì PDUs**) to exchange information between routers. Each type of PDU serves a specific role in **establishing adjacencies**, **disseminating topology information**, and **ensuring synchronization** of the Link State Database (LSDB).

---

## üîπ Main Types of IS-IS PDUs (Packets)

### 1. **Hello PDUs (Hellos)**

Used to establish and maintain adjacencies between routers.

- **IIH (IS-IS Hello PDU)**  
    There are three subtypes:
    
    - **LAN Level 1 Hello (L1 IIH)**
        
    - **LAN Level 2 Hello (L2 IIH)**
        
    - **Point-to-Point Hello (P2P IIH)**
        

üìå _Purpose_:

- Discover neighbors on a link
    
- Elect the **DIS (Designated Intermediate System)** on broadcast networks
    
- Maintain keepalives
    

---

### 2. **LSP (Link State PDUs)**

These carry the actual routing and topology information.

- Routers generate their own **LSPs** and flood them throughout the area.
    
- Each LSP contains:
    
    - Reachable prefixes
        
    - IS (router) neighbors
        
    - Metrics
        
    - Optional TLVs (e.g., for IPv6, TE, SR, etc.)
        

üìå _Purpose_:

- Build the Link State Database
    
- Used by SPF to compute the best paths
    

---

### 3. **SNPs (Sequence Number PDUs)**

Used for database synchronization.

#### a. **CSNP (Complete Sequence Number PDU)**

- Sent by the **DIS** on broadcast networks
    
- Lists **all LSPs** known by the sender  
    üìå _Purpose_:
    
- Used to help neighbors detect **missing or outdated LSPs**
    

#### b. **PSNP (Partial Sequence Number PDU)**

- Sent by routers on both broadcast and point-to-point links
    
- Lists **specific LSPs** being requested or acknowledged  
    üìå _Purpose_:
    
- Request LSPs that are missing or out of date (like a "please send me this")
    

---

## üß† Summary Table

|PDU Type|Name|Purpose|Used On|
|---|---|---|---|
|IIH|IS-IS Hello PDU|Neighbor discovery & adjacency formation|LAN & P2P links|
|LSP|Link State PDU|Advertise topology information|Flooded throughout area|
|CSNP|Complete Sequence Number PDU|Advertise known LSPs (summary)|Sent by DIS on LAN|
|PSNP|Partial Sequence Number PDU|Request or acknowledge specific LSPs|All links|

---

Would you like a diagram showing how these PDUs interact between routers during adjacency formation and database synchronization?

---
---
---
---
The IS-IS (Intermediate System to Intermediate System) protocol uses several types of packets to perform its control plane functions, such as discovering neighbors, forming adjacencies, exchanging topology information, and synchronizing the Link State Database (LSDB). These packets are encapsulated within the OSI Connectionless Network Service (CLNS) framework and operate directly over the data link layer (Layer 2). The primary types of IS-IS packets are **Hello Packets**, **Link State Packets (LSPs)**, **Complete Sequence Number PDUs (CSNPs)**, and **Partial Sequence Number PDUs (PSNPs)**. Below is a detailed explanation of each packet type, including their purpose and characteristics.

### 1. **Hello Packets (IIHs - IS-IS Hellos)**
- **Purpose**: Used to discover neighboring routers, establish, and maintain adjacencies.
- **Types**:
  - **Level 1 LAN IIH**: Sent on broadcast networks (e.g., Ethernet) for Level 1 adjacencies, using multicast MAC address `0180.c200.0014`.
  - **Level 2 LAN IIH**: Sent on broadcast networks for Level 2 adjacencies, using multicast MAC address `0180.c200.0015`.
  - **Point-to-Point IIH**: Sent on point-to-point links (e.g., serial or GRE tunnels) for both Level 1 and Level 2 adjacencies, using unicast or broadcast addressing depending on the link type.
- **Key Functions**:
  - Announce the router‚Äôs presence, including its **Network Entity Title (NET)**, System ID, and area information.
  - Verify area compatibility for Level 1 adjacencies (matching Area IDs) or establish Level 2 adjacencies (no Area ID match required).
  - Elect the **Designated Intermediate System (DIS)** on broadcast networks based on priority or System ID.
  - Maintain adjacencies by sending periodic Hellos (default interval: 10 seconds, with a hold time of 30 seconds, configurable).
- **Key Fields**:
  - Source System ID and NET.
  - Area ID (for Level 1).
  - Priority (for DIS election).
  - Holding time (to detect neighbor failures).
  - TLVs (Type-Length-Value) for additional information, e.g., IP interface addresses, authentication.
- **Characteristics**:
  - Sent frequently to ensure adjacency stability.
  - No Backup DIS concept (unlike OSPF‚Äôs BDR), simplifying operation.
  - Can include authentication TLVs for security (e.g., MD5, SHA).

### 2. **Link State Packets (LSPs)**
- **Purpose**: Used to advertise topology and routing information, forming the basis of the LSDB.
- **Types**:
  - **Level 1 LSPs**: Advertised within a single area for intra-area routing.
  - **Level 2 LSPs**: Advertised across the backbone for inter-area routing.
  - **Non-Pseudonode LSPs**: Generated by a router to describe its own interfaces, neighbors, and connected networks.
  - **Pseudonode LSPs**: Generated by the DIS on broadcast networks to represent the multi-access link as a virtual node, simplifying topology representation.
- **Key Functions**:
  - Contain information about the router‚Äôs neighbors, connected networks (e.g., IP prefixes), metrics, and other attributes.
  - Flooded throughout the area (Level 1) or backbone (Level 2) to build a synchronized LSDB.
  - Used by the Shortest Path First (SPF) algorithm to compute the best paths to destinations.
- **Key Fields**:
  - **LSP ID**: Composed of System ID, pseudonode ID (00 for non-pseudonode, non-zero for pseudonode), and fragment number (for large LSPs).
  - **Sequence Number**: Incremented for each LSP update to ensure the latest version is used.
  - **Remaining Lifetime**: Specifies how long the LSP is valid (default: 1200 seconds, or 20 minutes).
  - **Attached (ATT) Bit**: Set by Level 1-2 routers in Level 1 LSPs to indicate reachability to the backbone.
  - **Overload (OL) Bit**: Set to indicate the router is temporarily unable to forward traffic.
  - TLVs for routing information (e.g., TLV 128/135 for IPv4, TLV 236 for IPv6, TLV 22 for neighbor details).
- **Characteristics**:
  - LSPs are fragmented if they exceed the link‚Äôs MTU, using fragment numbers in the LSP ID.
  - Refreshed periodically to prevent aging out (even if unchanged).
  - Support TLV extensibility for features like Traffic Engineering (TE), Segment Routing (SR), and multi-protocol routing.

### 3. **Complete Sequence Number PDUs (CSNPs)**
- **Purpose**: Used to summarize the contents of the LSDB, facilitating synchronization and consistency.
- **Types**:
  - **Level 1 CSNP**: Summarizes the Level 1 LSDB within an area.
  - **Level 2 CSNP**: Summarizes the Level 2 LSDB across the backbone.
- **Key Functions**:
  - Advertise a list of all LSPs in the router‚Äôs LSDB, including LSP IDs, sequence numbers, and checksums.
  - Sent by the DIS on broadcast networks at regular intervals (default: every 10 seconds) to ensure all routers have a consistent LSDB.
  - Used during initial adjacency formation to compare LSDBs and identify missing or outdated LSPs.
  - On point-to-point links, CSNPs are sent during initial synchronization and occasionally to verify LSDB consistency.
- **Key Fields**:
  - Source System ID.
  - Range of LSP IDs with their sequence numbers and checksums.
  - TLVs for authentication or additional metadata.
- **Characteristics**:
  - CSNPs act as a ‚Äútable of contents‚Äù for the LSDB, enabling efficient synchronization.
  - Routers receiving a CSNP compare it against their LSDB and request missing LSPs using PSNPs.
  - Critical for large networks to prevent LSDB desynchronization.

### 4. **Partial Sequence Number PDUs (PSNPs)**
- **Purpose**: Used to request or acknowledge specific LSPs during LSDB synchronization.
- **Types**:
  - **Level 1 PSNP**: Used for Level 1 LSDB synchronization.
  - **Level 2 PSNP**: Used for Level 2 LSDB synchronization.
- **Key Functions**:
  - **Request**: Sent by a router to request specific LSPs identified as missing or outdated after receiving a CSNP.
  - **Acknowledgment**: Sent to confirm receipt of LSPs, ensuring reliable flooding.
  - Used on point-to-point links for both requesting and acknowledging LSPs during synchronization.
  - On broadcast networks, PSNPs are typically sent by non-DIS routers to request LSPs from the DIS.
- **Key Fields**:
  - Source System ID.
  - LSP IDs, sequence numbers, and checksums of requested or acknowledged LSPs.
  - TLVs for authentication or additional metadata.
- **Characteristics**:
  - PSNPs are targeted, addressing specific LSPs, unlike CSNPs, which summarize the entire LSDB.
  - Ensure reliable LSDB synchronization by confirming LSP delivery or triggering retransmissions.
  - Less frequent than CSNPs, sent only when needed (e.g., during synchronization or to request missing LSPs).

### Summary Table

| Packet Type          | Purpose                              | Level          | Key Fields                              | Sent By                     | Frequency/Trigger                     |
|----------------------|--------------------------------------|----------------|-----------------------------------------|-----------------------------|---------------------------------------|
| **Hello (IIH)**      | Discover neighbors, form adjacencies | L1, L2, P2P    | NET, System ID, Area ID, Priority, TLVs | All routers                 | Periodic (e.g., every 10s)            |
| **LSP**              | Advertise topology, build LSDB       | L1, L2         | LSP ID, Sequence Number, TLVs, ATT/OL   | All routers, DIS (pseudonode)| On topology change, periodic refresh  |
| **CSNP**             | Summarize LSDB for synchronization   | L1, L2         | LSP IDs, Sequence Numbers, Checksums    | DIS (broadcast), all (P2P)  | Periodic (DIS: 10s), initial sync     |
| **PSNP**             | Request/acknowledge LSPs             | L1, L2         | LSP IDs, Sequence Numbers, Checksums    | Non-DIS (broadcast), all (P2P) | As needed (sync, request, acknowledgment) |

### Additional Notes
- **Encapsulation**: All IS-IS packets are encapsulated in CLNS frames and sent directly over Layer 2, using multicast or unicast MAC addresses on Ethernet or other link types. This makes IS-IS independent of IP, unlike OSPF.
- **TLV Extensibility**: IS-IS packets use TLVs to carry flexible, protocol-specific information (e.g., IP prefixes, IPv6, TE, SR), ensuring future-proofing and multi-protocol support.
- **Authentication**: All packet types support authentication TLVs (e.g., cleartext, MD5, SHA) to secure control plane communications.
- **Broadcast vs. Point-to-Point**: Packet behavior differs slightly:
  - On broadcast networks, the DIS handles CSNP transmission, and pseudonode LSPs simplify topology.
  - On point-to-point links, CSNPs and PSNPs are used more actively for synchronization.
- **Troubleshooting**: Packet analysis (e.g., using Wireshark) can reveal issues like adjacency failures, LSP flooding storms, or synchronization problems by examining packet fields like NETs, sequence numbers, or TLVs.

### Example in Operation
- **Adjacency Formation**: Router R1 sends Level 1 LAN IIHs with its NET (`49.0001.1921.6800.1001.00`) on an Ethernet link. R2 responds, forming an adjacency after verifying the Area ID (`49.0001`).
- **Topology Exchange**: R1 generates a Level 1 LSP advertising its neighbors and IP prefixes (via TLVs), flooding it to R2 and other routers.
- **Synchronization**: The DIS sends a Level 1 CSNP summarizing the LSDB. R2 compares it, requests a missing LSP using a PSNP, and acknowledges receipt with another PSNP.

### Conclusion
IS-IS relies on four main packet types‚ÄîHellos, LSPs, CSNPs, and PSNPs‚Äîto perform neighbor discovery, topology advertisement, and LSDB synchronization. Each packet type plays a specific role in ensuring robust, scalable routing in Level 1 and Level 2 domains. The CLNS-based encapsulation and TLV structure make these packets versatile, supporting multi-protocol routing and modern features like Segment Routing. Understanding these packets is key to configuring, optimizing, and troubleshooting IS-IS networks.

If you need further details, such as packet formats, configuration examples for packet timers, or troubleshooting specific packet-related issues, let me know!