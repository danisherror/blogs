Configuring IS-IS on a router involves enabling the protocol, assigning the IS-IS process to interfaces, and setting up router IDs and network entity titles (NET). The exact commands vary by vendor (e.g., Cisco, Juniper), but the core concepts are similar.

---

## Example: Basic IS-IS Configuration on Cisco IOS

1. **Enable IS-IS routing process and assign a NET (Network Entity Title):**
    

```bash
router isis 1
 net 49.0001.1921.6800.1001.00
 is-type level-2-only   ! (optional: level-1, level-2, or level-1-2)
```

- `router isis 1` — starts IS-IS process with tag "1"
    
- `net` — sets the ISO system identifier; format is `Area ID.System ID.0` (hex digits)
    
- `is-type` — defines router type (Level 1, Level 2, or both)
    

2. **Enable IS-IS on interfaces:**
    

```bash
interface GigabitEthernet0/1
 ip router isis 1
```

This command activates IS-IS on the interface and associates it with the IS-IS process `1`.

3. **(Optional) Configure interface metrics:**
    

```bash
interface GigabitEthernet0/1
 isis metric 10 level-1
```

Sets the IS-IS metric on this interface for Level 1 routing.

4. **Verify configuration:**
    

```bash
show clns neighbors         ! shows IS-IS adjacencies
show isis database          ! displays link state database
show isis interface         ! shows interfaces enabled for IS-IS
show isis neighbors detail  ! detailed info on neighbors
```

---

## Example: Basic IS-IS Configuration on Juniper Junos

1. **Enable IS-IS protocol under routing options:**
    

`set protocols isis level 2 wide-metrics-only`

2. **Configure the IS-IS instance:**
    

```bash
set protocols isis interface ge-0/0/0.0
set protocols isis interface ge-0/0/0.0 level 2
set protocols isis interface ge-0/0/0.0 metric 10
set protocols isis interface ge-0/0/0.0 hello-interval 10
set protocols isis interface ge-0/0/0.0 hello-multiplier 3
```

3. **Assign the system ID and area:**
    

```bash
set protocols isis level 2 wide-metrics-only
set protocols isis export EXPORT_POLICY
set routing-options router-id 1.1.1.1
set protocols isis level 2 net 49.0001.1921.6800.1001.00
```

4. **Commit the configuration:**
    

```bash
commit
```

---

### Key Points:

- **NET (Network Entity Title)** uniquely identifies the router within IS-IS.
    
- You must enable IS-IS on each interface where you want to form adjacencies.
    
- You can specify whether the router operates as Level 1, Level 2, or both.
    
- Wide metrics support and authentication are optional but important for advanced deployment.
    

---

If you want, I can provide sample configurations for other vendors or more advanced IS-IS features like authentication or IPv6 support. Would you like that?

---
---
---
---
Configuring the IS-IS (Intermediate System to Intermediate System) protocol on a router involves enabling the protocol, assigning a Network Entity Title (NET), specifying interfaces to participate in IS-IS, and configuring the router’s level (Level 1, Level 2, or Level 1-2). The exact steps vary by vendor (e.g., Cisco, Juniper, Nokia), but the core concepts are consistent. Below is a step-by-step guide for configuring IS-IS on a **Cisco router**, as it’s one of the most widely used platforms, followed by brief notes on Juniper and general best practices. If you need configuration details for another vendor or a specific scenario, let me know!

### Step-by-Step Guide to Configure IS-IS on a Cisco Router

#### Scenario Assumptions
- Router R1 in Area `49.0001` with System ID `1921.6800.1001`.
- Interfaces: GigabitEthernet0/0 (IP: 192.168.12.1/24) and Loopback0 (IP: 1.1.1.1/32).
- Goal: Enable IS-IS for IPv4 routing, configure as a Level 1-2 router (default), and use wide metrics.

---

### 1. **Enable IS-IS Globally**
- Enter global configuration mode and enable the IS-IS process.
- Assign a NET to identify the router in the IS-IS domain.

```bash
R1# configure terminal
R1(config)# router isis
R1(config-router)# net 49.0001.1921.6800.1001.00
```

- **Explanation**:
  - `router isis`: Starts the IS-IS process (no process ID required, unlike OSPF).
  - `net 49.0001.1921.6800.1001.00`: Configures the NET:
    - `49`: Authority and Format Identifier (AFI), typically a private address.
    - `0001`: Area ID (Area 49.0001).
    - `1921.6800.1001`: System ID (unique, often derived from a loopback IP or MAC).
    - `00`: Selector (always 00 for IS-IS).
  - The NET must be unique across the IS-IS domain, and the System ID must not be duplicated.

---

### 2. **Specify IS-IS Router Type (Optional)**
- By default, Cisco routers operate as Level 1-2 (L1-2). You can restrict the router to Level 1 or Level 2 if needed.

```bash
R1(config-router)# is-type level-1-2
```

- **Options**:
  - `is-type level-1`: Configures the router as a Level 1-only router (intra-area routing).
  - `is-type level-2-only`: Configures the router as a Level 2-only router (backbone routing).
  - Omit this command to keep the default L1-2 behavior, suitable for most scenarios.

---

### 3. **Enable IS-IS on Interfaces**
- Activate IS-IS on interfaces that will participate in routing.

```bash
R1(config)# interface GigabitEthernet0/0
R1(config-if)# ip address 192.168.12.1 255.255.255.0
R1(config-if)# ip router isis
R1(config-if)# exit
R1(config)# interface Loopback0
R1(config-if)# ip address 1.1.1.1 255.255.255.255
R1(config-if)# ip router isis
```

- **Explanation**:
  - `ip address`: Assigns an IP address to the interface.
  - `ip router isis`: Enables IS-IS on the interface, allowing it to send/receive IS-IS packets (Hellos, LSPs) and advertise the connected subnet.
  - The Loopback0 interface is typically included to advertise a stable router ID or anchor point for routing.

---

### 4. **Configure Metric Style (Optional, Recommended)**
- Configure IS-IS to use wide metrics (24-bit, scalable) instead of narrow metrics (6-bit, limited).

```bash
R1(config)# router isis
R1(config-router)# metric-style wide
```

- **Explanation**:
  - `metric-style wide`: Enables 24-bit metrics (TLV 22/135), supporting values up to 16,777,215, ideal for modern networks and Traffic Engineering (TE).
  - Alternatives:
    - `metric-style narrow`: Uses 6-bit metrics (0–63), default in older systems but limited.
    - `metric-style transition`: Advertises both narrow and wide metrics for compatibility during migration.
  - Wide metrics are recommended for scalability and TE support.

---

### 5. **Set Interface Metrics (Optional)**
- Customize link costs to influence path selection (default metric is 10 per interface in Cisco).

```bash
R1(config)# interface GigabitEthernet0/0
R1(config-if)# isis metric 20
```

- **Explanation**:
  - `isis metric 20`: Sets the metric for the interface (range depends on metric style: 0–63 for narrow, 0–16,777,215 for wide).
  - Higher metrics indicate less preferred paths; lower metrics are preferred.
  - Use consistent metrics across the network based on link bandwidth or policy (e.g., 10 for 10 Gbps, 100 for 1 Gbps).

---

### 6. **Enable Authentication (Optional, Recommended)**
- Secure IS-IS adjacencies and LSPs with authentication.

```bash
R1(config)# router isis
R1(config-router)# authentication mode md5
R1(config-router)# authentication key-chain IS-IS-KEY
R1(config)# key chain IS-IS-KEY
R1(config-keychain)# key 1
R1(config-keychain-key)# key-string MySecurePassword
R1(config)# interface GigabitEthernet0/0
R1(config-if)# isis authentication mode md5
R1(config-if)# isis authentication key-chain IS-IS-KEY
```

- **Explanation**:
  - `authentication mode md5`: Enables MD5 authentication for LSPs (global) or Hellos (interface).
  - `authentication key-chain`: Specifies a key chain for authentication.
  - Apply authentication at both the router level (for LSPs) and interface level (for Hellos) for full security.
  - Alternatives: Cleartext authentication (less secure) or SHA-based authentication (modern, if supported).

---

### 7. **Advertise Passive Interfaces (Optional)**
- Include interfaces (e.g., Loopback0) in IS-IS advertisements without forming adjacencies.

```bash
R1(config)# router isis
R1(config-router)# passive-interface Loopback0
```

- **Explanation**:
  - `passive-interface`: Advertises the interface’s prefix in LSPs but prevents sending/receiving IS-IS packets, reducing overhead.
  - Commonly used for loopback interfaces to advertise stable router IDs.

---

### 8. **Verify Configuration**
- Confirm IS-IS operation using show commands.

```bash
R1# show isis neighbors
R1# show isis database
R1# show ip route isis
R1# show isis topology
```

- **Explanation**:
  - `show isis neighbors`: Displays adjacency status, levels, and System IDs.
  - `show isis database`: Shows the LSDB, including LSPs and their metrics.
  - `show ip route isis`: Lists IS-IS-learned routes in the routing table.
  - `show isis topology`: Displays the SPF-calculated topology.

---

### Example Complete Configuration (Cisco)

```bash
hostname R1
!
key chain IS-IS-KEY
 key 1
  key-string MySecurePassword
!
interface Loopback0
 ip address 1.1.1.1 255.255.255.255
 ip router isis
!
interface GigabitEthernet0/0
 ip address 192.168.12.1 255.255.255.0
 ip router isis
 isis metric 20
 isis authentication mode md5
 isis authentication key-chain IS-IS-KEY
!
router isis
 net 49.0001.1921.6800.1001.00
 is-type level-1-2
 metric-style wide
 authentication mode md5
 authentication key-chain IS-IS-KEY
 passive-interface Loopback0
!
```

---

### Notes for Juniper Configuration
Juniper uses a different syntax but follows similar principles. Key differences:
- IS-IS is configured under `protocols isis`.
- NET is set using `iso` under the router’s system configuration.
- Interfaces are enabled under the IS-IS protocol hierarchy.

**Example Juniper Configuration**:
```bash
set system host-name R1
set interfaces lo0 unit 0 family inet address 1.1.1.1/32
set interfaces lo0 unit 0 family iso
set interfaces ge-0/0/0 unit 0 family inet address 192.168.12.1/24
set interfaces ge-0/0/0 unit 0 family iso
set protocols isis interface ge-0/0/0.0 level 1 metric 20
set protocols isis interface lo0.0 passive
set protocols isis level 1 authentication-type md5
set protocols isis level 1 authentication-key MySecurePassword
set protocols isis level 2 wide-metrics-only
set routing-options router-id 1.1.1.1
set routing-options iso net 49.0001.1921.6800.1001.00
```

- **Key Commands**:
  - `family iso`: Enables CLNS on interfaces.
  - `wide-metrics-only`: Enables wide metrics.
  - `authentication-type md5`: Configures MD5 authentication.

---

### General Best Practices
1. **Unique NETs**: Ensure the System ID in the NET is unique across the IS-IS domain to avoid LSP conflicts.
2. **Consistent Metric Style**: Use wide metrics for scalability and TE support; configure `transition` mode during migrations.
3. **Area Planning**: Assign Area IDs strategically for scalability (e.g., smaller areas for Level 1, contiguous Level 2 backbone).
4. **Authentication**: Always enable authentication to secure adjacencies and LSPs.
5. **Passive Interfaces**: Use passive interfaces for loopbacks or networks that don’t need adjacencies.
6. **Tuning Timers**: Adjust Hello and SPF timers (e.g., `isis hello-interval`, `spf-interval`) for faster convergence in large networks.
7. **Monitoring**: Regularly verify adjacencies, LSDB, and routes using show commands or SNMP monitoring.
8. **Documentation**: Maintain clear documentation of NETs, areas, and metrics for troubleshooting and scaling.

---

### Additional Considerations
- **IPv6 Support**: To enable IPv6, add `family inet6` (Juniper) or `address-family ipv6` (Cisco) under the IS-IS process and configure IPv6 addresses on interfaces.
- **Multi-Area IS-IS**: For multi-area setups, configure L1-2 routers at area boundaries and ensure the Level 2 backbone is contiguous.
- **Traffic Engineering**: Enable TE extensions (e.g., `traffic-engineering` in Juniper) for MPLS or Segment Routing, requiring wide metrics.
- **Vendor Interoperability**: Use standard TLVs and metric styles for multi-vendor environments (e.g., Cisco and Juniper).

---

### Troubleshooting Tips
- **Adjacency Issues**: Check NET Area IDs (for Level 1), authentication mismatches, or interface MTU (must support large LSPs).
- **Missing Routes**: Verify LSDB (`show isis database detail`) and ensure interfaces are not passive or misconfigured.
- **Metric Issues**: Confirm consistent metric styles across routers (`show isis interface`).

---

### Conclusion
Configuring IS-IS on a Cisco router involves enabling the protocol, assigning a NET, activating interfaces, and optionally tuning metrics, authentication, and router levels. The process is straightforward but requires careful planning of NETs and areas for scalability. Juniper and other vendors follow similar steps with different syntax. Wide metrics and authentication are recommended for modern networks, and verification commands ensure proper operation. This configuration enables robust, scalable routing in large-scale environments like service provider backbones or data centers.

If you need a specific configuration for another vendor (e.g., Juniper, Nokia), a multi-area setup, IPv6 support, or troubleshooting guidance, let me know!